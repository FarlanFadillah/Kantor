<html lang="en">
<%-include('../partials/head')%>
<body>

<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="mb-0">Daftar Client</h2>
        <a href="<%=referer%>" class="btn btn-outline-primary">
            ‚Üê Back
        </a>
    </div>



    <table class="table table-bordered table-striped table-hover">
        <thead class="table-dark">
        <tr>
            <th>No</th>
            <th>NIK</th>
            <th>Nama</th>
            <th>Gender</th>
            <th>Pekerjaan</th>
            <th>Kota/Kab</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <% if (clients.length > 0) { %>
            <% for (let [i, value] of clients.entries()) { %>
                <tr>
                    <th><%= (i += 1) + offset%></th>
                    <td><%= value.nik %></td>
                    <td><%= value.first_name + ' ' + (value.last_name || '') %></td>
                    <td><%= value.gender %></td>
                    <td><%- value.job_name %></td>
                    <td><%= value.kab_kota %></td>
                    <td>
                        <a href="/client/view?id=<%= value.id %>" class="btn btn-info btn-sm">
                            View
                        </a>
                    </td>
                </tr>
            <% } %>
        <% } %>
        </tbody>
    </table>

    <!-- Pagination Controls -->
    <div class="d-flex justify-content-between">
        <button class="btn btn-secondary" onclick="goToPage(<%=Number(currentPage) - 1%>)"
                <%=currentPage <= 1 ? 'disabled' : ''%> di>
            Previous
        </button>

        <span>Page <%=currentPage%> of <%=totalPages%></span>

        <button class="btn btn-primary" onclick="goToPage(<%=Number(currentPage) + 1%>)"
                <%=currentPage >= totalPages ? 'disabled' : ''%>>
            Next
        </button>
    </div>
</div>


<script src="/js/client_list_page.js"></script>


</body>
</html>